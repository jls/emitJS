/*!!
 * emitJS <http://github.com/jls/emitJS>
 * Released under the MIT license <http://www.opensource.org/licenses/mit-license.php>
 * @author James Smith <http://thejls.com>
 * @version 0.1.0
 */
(function(g){var h=g.emit,f=g.emit={};f.noConflict=function(){g.emit=h;return f};f.EventListener=function(a,b,c,d,f){var e=this;e.type=a;e.listener=b;e.scope=c;e.once=d;e.removeCallback=f;e.fire=function(a){a=e.listener.apply(e.scope||this,a||[]);e.once&&e.removeCallback(e);return a}};f.Binding=function(){var a=this,b=[];a.active=true;a.length=function(){return b.length};a.add=a.addListener=function(c,d,g){b.push(new f.EventListener(null,c,g,d,a.rem))};a.rem=a.removeListener=function(a){for(var d=0;d<b.length;d+=1)b[d]===a&&b.splice(d,1)};a.emit=function(){if(a.active===true)for(var c=Array.prototype.slice.call(arguments),d=0;d<b.length;d+=1)b[d].fire(c)}};f.EventEmitter=function(){var a={};this.rem=this.removeListener=function(b){var c=b.type;a[c]&&(a[c].rem(b),a[c].length()===0&&delete a[c])};this.add=this.addListener=function(b,c,d,g){a[b]||(a[b]=new f.Binding);a[b].add(c,g,d)};this.emit=function(b){if(a[b]){var c=Array.prototype.slice.call(arguments,1);a[b].emit.apply(a[b],c)}}}})(window);