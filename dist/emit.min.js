/*!!
 * emitJS <http://github.com/jls/emitJS>
 * Released under the MIT license <http://www.opensource.org/licenses/mit-license.php>
 * @author James Smith <http://thejls.com>
 */
(function(g){var h=g.emit,f=g.emit={};f.noConflict=function(){g.emit=h;return f};f.EventListener=function(a,b,c,e,f){var d=this;d.type=a;d.listener=b;d.scope=c;d.once=e;d.active=!0;d.removeCallback=f;d.fire=function(a){if(d.active)return a=d.listener.apply(d.scope||this,a||[]),d.once&&d.removeCallback(d),a}};f.Binding=function(){var a=this,b=[];a.active=!0;a.length=function(){return b.length};a.add=a.addListener=function(c,e,g,d){c=new f.EventListener(d,c,g,e,a.rem);b.push(c);return c};a.rem=a.removeListener=
function(a){for(var e=0;e<b.length;e+=1)b[e]===a&&b.splice(e,1)};a.emit=function(){if(a.active===!0)for(var c=Array.prototype.slice.call(arguments),e=0;e<b.length;e+=1)b[e].fire(c)}};f.EventEmitter=function(){var a={};this.rem=this.removeListener=function(b){var c=b.type;a[c]&&(a[c].rem(b),a[c].length()===0&&delete a[c])};this.add=this.addListener=function(b,c,e,g){a[b]||(a[b]=new f.Binding);return a[b].add(c,e,g,b)};this.emit=function(b){if(a[b]){var c=Array.prototype.slice.call(arguments,1);a[b].emit.apply(a[b],
c)}}}})(window);
